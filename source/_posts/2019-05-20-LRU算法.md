---
layout: post
title:  "LRU算法"
date:   2019-05-20 10:45:13 +0800
category:
- 学习笔记
tags: 
- 算法
---

## LRU
> LRU是Least Recently Used的缩写，即最近最久未使用，常用于页面置换算法，是为虚拟页式存储管理服务的。
关于操作系统的内存管理，如何节省利用容量不大的内存为最多的进程提供资源，一直是研究的重要方向。而内存的虚拟存储管理，是现在最通用，最成功的方式—— 在内存有限的情况下，扩展一部分外存作为虚拟内存，真正的内存只存储当前运行时所用得到信息。这无疑极大地扩充了内存的功能，极大地提高了计算机的并发度。虚拟页式存储管理，则是将进程所需空间划分为多个页面，内存中只存放当前所需页面，其余页面放入外存的管理方式。
然而，有利就有弊，虚拟页式存储管理减少了进程所需的内存空间，却也带来了运行时间变长这一缺点：进程运行过程中，不可避免地要把在外存中存放的一些信息和内存中已有的进行交换，由于外存的低速，这一步骤所花费的时间不可忽略。因而，采取尽量好的算法以减少读取外存的次数，也是相当有意义的事情。


## 例子
    LRU（least recently used）最近最少使用。
    假设 序列为 4 3 4 2 3 1 4 2
    物理块有3个 则
    首轮 4调入内存 4
    次轮 3调入内存 3 4
    之后 4调入内存 4 3
    之后 2调入内存 2 4 3
    之后 3调入内存 3 2 4
    之后 1调入内存 1 3 2（因为最少使用的是4，所以丢弃4）
    之后 4调入内存 4 1 3（原理同上）
    最后 2调入内存 2 4 1

## 实现
最常见的是使用链表保存缓存数据，详细如下

    1. 新数据插入到链表头部
    2.命中缓存，则将数据移到链表头部
    3.链表满了的时候，将链表尾部数据丢弃。

[简单代码实现https://github.com/DylanDu123/code/blob/master/LRU/LRU.cpp](https://github.com/DylanDu123/code/blob/master/LRU/LRU.cpp)


